<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" class="force-dark-theme">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Playground | RTS to Latin Transliteration</title>

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js"></script>
  <script src="../../js/jquery.hotkeys.js"></script>
  <!-- Semver -->
  <script src="https://cdn.jsdelivr.net/npm/compare-versions@6.1.0/lib/umd/index.js"></script>
  <!-- Unicode normalize -->
  <script src="https://unpkg.com/unorm@1.6.0/lib/unorm.js"></script>
  <!-- Leaftlet -->
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
  <script src="../../js/leaflet.js"></script>
  <link rel="stylesheet" href="../../css/leaflet.css">

  <!-- Leaflet Draw -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.3/leaflet.draw.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.3/leaflet.draw.js"></script>
  <!-- <script src="../../js/leaflet.draw.js"></script> -->
  <!-- <link rel="stylesheet" href="css/leaflet.draw.css" /> -->

  <!-- Turf -->
  <script src='https://unpkg.com/@turf/turf@6/turf.min.js'></script>
  <!-- Dropzone -->
  <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css" />

  <!-- Tesseract -->
  <script src='https://unpkg.com/tesseract.js@4.0.2/dist/tesseract.min.js'></script>

  <!-- Fomanic UI -->
  <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.9.2/dist/semantic.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.9.2/dist/semantic.min.css">

  <!-- JS Cookie -->
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@3"></script>
  <!-- Custom JS and CSS -->
  <script src="../../js/jquery.csv.min.js"></script>
  <script src="../../js/app-playground.js"></script>
  <link rel="stylesheet" href="../../css/styles.css">
</head>

<body>
  <div class="ui container">
    <div class="ui basic horizontal segments">
      <div class="ui basic horizontally fitted segment">
        <h1 class="ui header">
          RTS to Latin
          <div class="sub header">Transliteration Service</div>
        </h1>
      </div>
      <div class="ui basic horizontally fitted compact segment">
        <div id="navigationMenu" class="ui right secondary menu">
          <a class="active item">
            Playground
          </a>
          <a href="../../module/box-editor" class="item">
            Box Editor
          </a>
          <a href="../../module/words-pairing" class="item">
            Words Pairing
          </a>
          <a id="settingsButton" class="item" data-tooltip="Open Settings" data-position="bottom center">
            <i class="fitted icons">
              <i class="large fitted cog circle icon"></i>
              <!-- <i class="top right corner orange circle icon"></i> -->
            </i>
          </a>
        </div>
      </div>
    </div>
    <div class="ui borderless secondary segment dropzoneSegment">
      <div class="ui row">
        <div id="custom-controls">
          <div class="ui wrapping spaced icon buttons">
            <div class="ui useSampleImage flowing center aligned popup">
              <h4 class="ui header">Use Sample Image</h4>
              <div>
                <a class="helpSettingsPopup">
                  <i class="fitted cog circle icon"></i>
                  Settings
                  <i class="fitted caret right icon"></i>
                  Help
                </a>
              </div>
            </div>
            <label for="imageFile" id="uploadNewImage" name="interface.toolbarActions.uploadNewImageButton"
              class="ui button" title="Upload a new image" tabindex="0">
              <input type="file" disabled id="imageFile" name="imageFile" accept="image/*"
                class="ui invisible file input">
              <i class="file upload icon"></i>
            </label>
            <button id="redetectAllBoxes" disabled name="interface.toolbarActions.detectAllLines"
              class="ui disabled button" title="Find all text in image" tabindex="0" data-tooltip="Find all text"
              data-position="top left">
              <i class="magic icon"></i>
            </button>
            <button id="regenerateTextSuggestions" disabled name="interface.toolbarActions.detectAllBoxes"
              class="ui disabled button" title="Regenerate Text Suggestions" tabindex="0"
              data-tooltip="Recognize all boxes" data-position="top left">
              <i class="sync icon"></i>
            </button>
            <button id="regenerateTextSuggestionForSelectedBox" disabled
              name="interface.toolbarActions.detectSelectedBox" class="ui disabled button"
              title="Regenerate Text Suggestion for Selected Box" tabindex="0" data-tooltip="Recognize current box"
              data-position="top left">
              <i class="redo icon"></i>
            </button>
          </div>
          <div class="ui right floated icon buttons">
            <button id="saveOutputToDisk" class="ui button" data-tooltip="Download text document"
              data-position="top right">
              <i class="file download icon"></i>
            </button>
          </div>
          <div class="ui right floated wrapping spaced icon buttons">
            <button id="toggleOutputScript" class="ui icon right labeled button" data-tooltip="Switch between scripts"
              data-position="top right">
              <i class="globe icon"></i>
              <span>RTS</span>
            </button>
            <button id="copyOutputToClipboard" class="ui button" data-tooltip="Copy output" data-position="top right">
              <i class="copy icon"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="ui blurring row guideMessage my-dropzone">
        <div class="ui inverted dimmer">
          <div class="content">
            <h2 class="ui inverted icon header">
              <i class="file upload icon"></i>
              Upload an image!
            </h2>
            <div class="description">Or drag and drop here.</div>
          </div>
        </div>
        <div class="ui equal width grid">
          <div class="ui column">
            <div class="ui maprow fitted segment" id="mapid"></div>
          </div>
          <div class="ui column">
            <textarea id="text-output" class="ui text-output fitted segment"></textarea>
          </div>
        </div>
      </div>
    </div>
    <div class="ui container">
      <div class="ui basic fitted segments">
        <div class="ui horizontal basic segments">
          <div class="ui basic fitted segment">
            <div class="ui horizontal small list">
              <div class="item">
                By: <a href="https://penteliuc.com">Dr. Marius E. Penteliuc</a>
              </div>
            </div>
          </div>
          <div class="ui right aligned basic fitted segment">
            <a href="https://github.com/mariuspenteliuc/box-editor-for-tesseract" target="_blank">
              <i class="github icon"></i>
            </a>
          </div>
        </div>
        <div class="ui basic horizontally fitted segment">
          <p>This work was supported by a grant of the Romanian Ministry of Research, Innovation and Digitization, CCCDI
            -
            UEFISCDI,
            project number PN-III-P2-2.1-PED-2021-0693, within PNCDI III.</p>
        </div>
      </div>
    </div>
  </div>
  <div class="ui settings modal ui grid">
    <i class="inside close icon"></i>
    <div class="header">
      Playground Settings
    </div>
    <div id="navSettingsPane" class="four wide column scrolling content">
      <div id="settingsMenu" class="ui fluid secondary vertical menu">
        <a class="item active" data-tab="interface-settings">
          <i class="grey adjust icon"></i>
          Interface
        </a>
        <a class="item" data-tab="behavior-settings">
          <i class="grey toggle on icon"></i>
          Behavior
        </a>
        <div class="ui divider"></div>
        <a id="helpTab" class="bottom attached item" data-tab="help-section">
          <i class="grey help circle icon"></i>
          Help
        </a>
        <a class="bottom attached item" data-tab="about-section">
          <i class="grey info circle icon"></i>
          About
        </a>
      </div>
    </div>
    <div id="mainSettingsPane" class="twelve wide column scrolling content">
      <div class="ui tab active" data-tab="interface-settings">
        <div class="ui very relaxed list">
          <div class="item">
            <div class="header">App Appearance</div>
            <div class="description">
              Adjust the appearance of the interface.
            </div>
            <div class="list">
              <div class="item">
                <div class="ui radio checkbox">
                  <input type="radio" name="interface.appearance" value="light-theme">
                  <label>Light</label>
                </div>
              </div>
              <div class="item">
                <div class="ui radio checkbox">
                  <input type="radio" name="interface.appearance" value="dark-theme">
                  <label>Dark</label>
                </div>
              </div>
              <div class="item">
                <div class="ui radio checkbox">
                  <input type="radio" name="interface.appearance" value="match-device">
                  <label>Match Device</label>
                </div>
              </div>
            </div>
          </div>
          <div class="item">
            <div class="header">Image View</div>
            <div class="description">
              Adjust the size of the image display area.
            </div>
            <div class="list">
              <div class="item">
                <div class="ui radio checkbox">
                  <input type="radio" name="interface.imageView" value="short">
                  <label>Short</label>
                </div>
              </div>
              <div class="item">
                <div class="ui radio checkbox">
                  <input type="radio" name="interface.imageView" value="medium">
                  <label>Medium</label>
                </div>
              </div>
              <div class="item">
                <div class="ui radio checkbox">
                  <input type="radio" name="interface.imageView" value="tall">
                  <label>Tall</label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="ui tab" data-tab="behavior-settings">
        <div class="ui very relaxed list">
          <div class="item" name="onImageLoad">
            <div class="header">On Image Load</div>
            <div class="description">
              Perform actions when a new image is loaded.
            </div>
            <div class="list">
              <div class="item">
                <div class="ui master checkbox">
                  <input type="checkbox" name="behavior.onImageLoad.detectAllLines">
                  <label>Detect all lines of text</label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="helpTab" class="ui tab" data-tab="help-section">
        <div class="ui very relaxed list">
          <div class="item">
            <h3 class="ui header">How to use the Playground</h3>
            <p>
              To start, you must pick an image. After that, you can mark regions of interest or let this app to detect
              all lines of text. It will recognize all text and display the output next to the image. You can choose
              between RTS script (OCR) or Latin script (OCR + transliteration) output.
            </p>
            <button tabindex="0" id="useSampleImage" class="ui right labeled basic icon button">
              <i class="right arrow icon"></i>
              Use sample
            </button>
          </div>
          <div class="item">
            <h4>Toolbar Actions:</h4>
            <div class="ui list">
              <div class="item">
                <i class="file upload icon"></i>
                <div class="content">
                  Upload a new image to the playground.
                </div>
              </div>
              <div class="item">
                <i class="magic icon"></i>
                <div class="content">
                  Detect all lines of text and draw boxes for them.
                </div>
              </div>
              <div class="item">
                <i class="sync icon"></i>
                <div class="content">
                  Redetect text in boxes and regenerate output.
                </div>
              </div>
              <div class="item">
                <i class="redo icon"></i>
                <div class="content">
                  Redetect text for selected box and regenerate output.
                </div>
              </div>
              <div class="ui hidden divider"></div>
              <div class="item">
                <i class="globe icon"></i>
                <div class="content">
                  Switch between RTS and Latin scripts.
                </div>
              </div>
              <div class="item">
                <i class="copy icon"></i>
                <div class="content">
                  Copy the current output to clipboard.
                </div>
              </div>
              <div class="item">
                <i class="file download icon"></i>
                <div class="content">
                  Save the current output to disk.
                </div>
              </div>
            </div>
          </div>
          <div class="item">
            <h3>Image Actions:</h3>
            <div class="ui list">
              <div class="item">
                <i class="plus icon"></i>
                <div class="content">
                  Zoom in on the image.
                </div>
              </div>
              <div class="item">
                <i class="minus icon"></i>
                <div class="content">
                  Zoom out of the image.
                </div>
              </div>
              <div class="item">
                <i class="cut icon"></i>
                <div class="content">
                  Split boxes into columns.
                </div>
              </div>
              <div class="item">
                <i class="square icon"></i>
                <div class="content">
                  Draw new boxes for text.
                </div>
              </div>
              <div class="item">
                <i class="trash alternate icon"></i>
                <div class="content">
                  Delete one or more boxes.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="ui tab" data-tab="about-section">
        <div class="ui very relaxed list">
          <div class="item">
            <h3 class="ui header">About</h3>
            <p>This is a Playground for recognizing and transliterating Romanian Transitional Script text. It tool uses
              a custom trained model for the Tesseract OCR engine and a set of rules for transliteration.
            </p>
            <div class="ui basic label">
              Version: <div id="appInfoVersion" class="detail"></div>
            </div>
            <div class="ui basic label">
              Updated: <div id="appInfoUpdated" class="detail"></div>
            </div>
          </div>
          <div class="item">
            <p>
              For info and support, please visit the following links:</p>
            <table class="ui unstackable striped celled collapsing table">
              <tbody>
                <tr>
                  <td>Author:</td>
                  <td class="right aligned"><a class="" href="https://penteliuc.com" target="_blank"
                      title="Author's Website">Dr. Marius E. Penteliuc</a></td>
                </tr>
                <tr>
                  <td>Source Code:</td>
                  <td class="right aligned"><a class=""
                      href="https://github.com/mariuspenteliuc/box-editor-for-tesseract" target="_blank"
                      title="GitHub">GitHub Repository</a></td>
                </tr>
                <tr>
                  <td>Project Website:</td>
                  <td class="right aligned"><a class=""
                      href="https://transitional-romanian-transliteration.azurewebsites.net/" target="_blank"
                      title="ROTLA Website">ROTLA Team</a></td>
                </tr>
                <tr>
                  <td>Tesseract Model:</td>
                  <td class="right aligned"><a class="" href="../../assets/RTS_from_Cyrillic.traineddata"
                      title="Tesseract Model">RTS</a></td>
                </tr>
                <tr>
                  <td>Training Dataset:</td>
                  <td class="right aligned"><a class="" href="https://www.kaggle.com/datasets/mariuspenteliuc/rts-ocr"
                      target="_blank" title="Training Dataset">Kaggle</a></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="item">
            <h3 class="ui header">Acknowledgement</h3>
            <p>This work was supported by a grant from the Romanian Ministry of Research, Innovation and
              Digitization, CCCDI -
              UEFISCDI, project number PN-III-P2-2.1-PED-2021-0693, within PNCDI III.</p>
          </div>
          <div class="ui tiny compact icon message">
            <i class="translate icon"></i>
            <div class="content">
              <div class="header">
                Upcoming Feature
              </div>
              <p>A future update will allow switching between multiple OCR models.</p>
            </div>
          </div>
          <div class="ui divider"></div>
          <div class="item">
            <h3 class="ui header">Reset</h3>
            <p>In case of unexpected behavior, you can reset all settings to their default values.</p>
            <div id="resetAppSettings" class="ui left floating negative button">Reset App...</div>
          </div>
        </div>
      </div>
    </div>
    <div id="settingsModalStatus" class="actions">
      <div class="ui button ok" tabindex="0">OK</div>
    </div>
  </div>
</body>

</html>