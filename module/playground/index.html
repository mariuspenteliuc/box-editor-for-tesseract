<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" class="force-dark-theme">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Playground | RTS to Latin Transliteration</title>

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js"></script>
  <script src="../../js/jquery.hotkeys.js"></script>
  <!-- Unicode normalize -->
  <script src="https://unpkg.com/unorm@1.6.0/lib/unorm.js"></script>
  <!-- Leaftlet -->
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
  <script src="../../js/leaflet.js"></script>
  <link rel="stylesheet" href="../../css/leaflet.css">

  <!-- Leaflet Draw -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.3/leaflet.draw.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.3/leaflet.draw.js"></script>
  <!-- <script src="../../js/leaflet.draw.js"></script> -->
  <!-- <link rel="stylesheet" href="css/leaflet.draw.css" /> -->

  <!-- Turf -->
  <script src='https://unpkg.com/@turf/turf@6/turf.min.js'></script>
  <!-- <script>
    var bbox = turf.bbox(features);
  </script> -->

  <!-- Tesseract -->
  <script src='https://unpkg.com/tesseract.js@4.0.2/dist/tesseract.min.js'></script>

  <!-- Fomanic UI -->
  <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.9.2/dist/semantic.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.9.2/dist/semantic.min.css">

  <!-- JS Cookie -->
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@3"></script>
  <!-- Custom JS and CSS -->
  <script src="../../js/jquery.csv.min.js"></script>
  <script src="../../js/app-playground.js"></script>
  <link rel="stylesheet" href="../../css/styles.css">
</head>

<body>
  <div class="ui container">
    <div class="ui basic horizontal segments">
      <div class="ui basic horizontally fitted segment">
        <h1 class="ui header">
          RTS to Latin
          <div class="sub header">Transliteration Service</div>
        </h1>
      </div>
      <div class="ui basic horizontally fitted compact segment">
        <div id="navigationMenu" class="ui right secondary menu">
          <a class="active item">
            Playground
          </a>
          <a href="../../module/box-editor" class="item">
            Box Editor
          </a>
          <a href="../../module/words-pairing" class="item">
            Words Pairing
          </a>
          <a id="settingsButton" class="settingsPopup item">
            <i class="icons">
              <i class="large fitted cog circle icon"></i>
              <i class="top right corner orange circle icon"></i>
            </i>
          </a>
        </div>
      </div>
    </div>
    <div class="ui borderless secondary segment">
      <div class="ui row">
        <div id="custom-controls">
          <div class="ui useSampleImage flowing center aligned popup">
            <h4 class="ui header">Use Sample Image</h4>
            <div>
              <a class="helpSettingsPopup">
                <i class="fitted cog circle icon"></i>
                Settings
                <i class="fitted caret right icon"></i>
                Help
              </a>
            </div>
          </div>
          <div class="ui icon buttons">
            <label for="imageFile" id="uploadNewImage" name="interface.toolbarActions.uploadNewImageButton"
              class="ui button" title="Upload a new image" tabindex="0">
              <input type="file" disabled id="imageFile" name="imageFile" accept="image/*"
                class="ui invisible file input">
              <i class="upload icon"></i>
            </label>
            <button id="redetectAllBoxes" name="interface.toolbarActions.detectAllLines" class="ui button"
              title="Find all text in image" tabindex="0">
              <span data-tooltip="Find all text" data-position="top left"><i class="magic icon"></i></span>
            </button>
            <button id="regenerateTextSuggestions" name="interface.toolbarActions.detectAllBoxes" class="ui button"
              title="Regenerate Text Suggestions" tabindex="0">
              <span data-tooltip="Recognize all boxes" data-position="top left"><i class="sync icon"></i></span>
            </button>
            <button id="regenerateTextSuggestionForSelectedBox" name="interface.toolbarActions.detectSelectedBox"
              class="ui button" title="Regenerate Text Suggestion for Selected Box" tabindex="0">
              <span data-tooltip="Recognize current box" data-position="top left"><i class="redo icon"></i></span>
            </button>
          </div>
          <div class="ui right floated icon buttons">
            <button id="toggleBetweenTransliterationAndOCR" class="ui button">
              <span data-tooltip="Switch to recognized RTS text" data-position="top right"><i
                  class="globe icon"></i></span>
            </button>
            <button id="copyOutputToClipboard" class="ui button">
              <span data-tooltip="Copy output" data-position="top right"><i class="copy icon"></i></span>
            </button>
          </div>
          <div class="ui right floated spaced icon buttons">
          </div>
        </div>
      </div>
      <div class="ui hidden divider"></div>
      <div class="ui row">
        <div class="ui equal width grid">
          <div class="ui column">
            <div class="ui maprow fitted segment" id="mapid"></div>
          </div>
          <div class="ui column">
            <textarea id="text-output" class="ui text-output fitted segment"></textarea>
          </div>
        </div>
      </div>
    </div>
    <div class="ui container">
      <div class="ui basic fitted segments">
        <div class="ui horizontal basic segments">
          <div class="ui basic fitted segment">
            <div class="ui horizontal small list">
              <div class="item">
                By: <a href="https://penteliuc.com">Marius E. Penteliuc</a>
              </div>
            </div>
          </div>
          <div class="ui right aligned basic fitted segment">
            <a href="https://github.com/mariuspenteliuc/box-editor-for-tesseract" target="_blank">
              <i class="github icon"></i>
            </a>
          </div>
        </div>
        <div class="ui basic horizontally fitted segment">
          <p>This work was supported by a grant of the Romanian Ministry of Research, Innovation and Digitization, CCCDI
            -
            UEFISCDI,
            project number PN-III-P2-2.1-PED-2021-0693, within PNCDI III.</p>
        </div>
      </div>
    </div>
  </div>
  <div class="ui settings modal ui grid">
    <i class="inside close icon"></i>
    <div class="header">
      Playground Settings
    </div>
    <div id="navSettingsPane" class="four wide column scrolling content">
      <div id="settingsMenu" class="ui fluid secondary vertical menu">
        <a id="interfaceTab" class="item active" data-tab="interface-settings">
          <i class="grey adjust icon"></i>
          Interface
        </a>
        <a id="behaviorTab" class="item" data-tab="behavior-settings">
          <i class="grey toggle on icon"></i>
          Behavior
        </a>
        <div class="ui divider"></div>
        <a id="helpTab" class="bottom attached item" data-tab="help-section">
          <i class="grey help circle icon"></i>
          Help
          <i class="top right orange circle icon"></i></a>
        <!-- <a id="helpTab" class="bottom attached item" data-tab="help-section">Help<div class="left floating ui red empty circular label"></div></a> -->
        <a id="aboutTab" class="bottom attached item" data-tab="about-section">
          <i class="grey info circle icon"></i>
          About
        </a>
      </div>
    </div>
    <div id="mainSettingsPane" class="twelve wide column scrolling content">
      <div id="interfaceTab" class="ui tab active" data-tab="interface-settings">
        <div class="ui relaxed list">
          <div class="item">
            <div class="header">Appearance</div>
            <div class="description">
              Adjust the appearance of the interface.
            </div>
            <div class="list">
              <div class="item">
                <div class="ui child radio checkbox">
                  <input type="radio" name="interface.appearance" value="light-theme">
                  <label>Light</label>
                </div>
              </div>
              <div class="item">
                <div class="ui child radio checkbox">
                  <input type="radio" name="interface.appearance" value="dark-theme">
                  <label>Dark</label>
                </div>
              </div>
              <div class="item">
                <div class="ui child radio checkbox">
                  <input type="radio" name="interface.appearance" value="match-device">
                  <label>Match Device</label>
                </div>
              </div>
            </div>
          </div>
          <div class="item">
            <div class="header">Image View</div>
            <div class="description">
              Adjust the height of the image view in the main screen.
            </div>
            <div class="list">
              <div class="item">
                <div class="ui child radio checkbox">
                  <input type="radio" name="interface.imageView" value="short">
                  <label>Short</label>
                </div>
              </div>
              <div class="item">
                <div class="ui child radio checkbox">
                  <input type="radio" name="interface.imageView" value="medium">
                  <label>Medium</label>
                </div>
              </div>
              <div class="item">
                <div class="ui child radio checkbox">
                  <input type="radio" name="interface.imageView" value="tall">
                  <label>Tall</label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="behaviorTab" class="ui tab" data-tab="behavior-settings">
        <div class="ui relaxed list">
          <div class="item" name="onImageLoad">
            <div class="header">On Image Load</div>
            <div class="description">
              Perform actions when a new image is loaded.
            </div>
            <div class="list">
              <div class="item">
                <div class="ui child checkbox">
                  <input type="checkbox" name="behavior.onImageLoad.detectAllLines">
                  <label>Detect all lines of text</label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="helpTab" class="ui tab" data-tab="help-section">
        <div class="ui relaxed list">
          <div class="item">
            <h3 class="ui header">How to use the Playground</h3>
            <div class="ui warning message">
              <div class="header">
                <!-- transliteration ported from python. some problems might arise -->
                Disclaimeer
              </div>
              <p>The transliteration module, ported from Python, may not be behave correctly due to technical
                differences
                between technologies. Improvements are underway to address any issues.</p>
            </div>
            <p>
              To start, you must pick an image. After that, you can mark regions of interest or let this app to detect
              all lines of text. It will recognize all text and display the output next to the image. You can choose
              between RTS script (OCR) or Latin script (OCR + transliteration) output.
            </p>
            <button id="useSampleImage" class="ui right labeled basic icon button">
              <i class="right arrow icon"></i>
              Use sample
            </button>
          </div>
          <div class="item">
            <h4>Toolbar Actions:</h4>
            <div class="ui list">
              <div class="item">
                <i class="upload icon"></i>
                <div class="content">
                  Upload a new image to the playground.
                </div>
              </div>
              <div class="item">
                <i class="magic icon"></i>
                <div class="content">
                  Detect all lines of text and draw boxes for them.
                </div>
              </div>
              <div class="item">
                <i class="sync icon"></i>
                <div class="content">
                  Redetect text in boxes and regenerate output.
                </div>
              </div>
              <div class="item">
                <i class="redo icon"></i>
                <div class="content">
                  Redetect text for selected box and regenerate output.
                </div>
              </div>
              <div class="item">
                <i class="globe icon"></i>
                <div class="content">
                  Switch between RTS and Latin scripts.
                </div>
              </div>
              <div class="item">
                <i class="copy icon"></i>
                <div class="content">
                  Copy the current output to clipboard.
                </div>
              </div>
            </div>
          </div>
          <div class="item">
            <h4>Image Actions:</h4>
            <div class="ui list">
              <div class="item">
                <i class="plus icon"></i>
                <div class="content">
                  Zoom into the image.
                </div>
              </div>
              <div class="item">
                <i class="minus icon"></i>
                <div class="content">
                  Zoom out of the image.
                </div>
              </div>
              <div class="item">
                <i class="cut icon"></i>
                <div class="content">
                  Split boxes into columns.
                </div>
              </div>
              <div class="item">
                <i class="square icon"></i>
                <div class="content">
                  Draw boxes to define regions of text.
                </div>
              </div>
              <div class="item">
                <i class="trash alternate icon"></i>
                <div class="content">
                  Clear drawn boxes selectively.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="aboutTab" class="ui tab" data-tab="about-section">
        <div class="ui relaxed list">
          <div class="item">
            <h3 class="ui header">About</h3>
            <p>This tool provides a playground for experimenting with the model we built. For more information and
              support, please visit the project's website:</p>
            <div class="ui small list">
              <div class="item">
                Project Website: <a class="more external"
                  href="https://transitional-romanian-transliteration.azurewebsites.net/" target="_blank"
                  title="ROTLA Website">ROTLA</a>
              </div>
              <div class="item">
                Source code: <a class="more external" href="https://github.com/mariuspenteliuc/box-editor-for-tesseract"
                  target="_blank" title="GitHub">GitHub</a>
              </div>
              <div class="item">
                Author: <a class="more external" href="https://penteliuc.com" target="_blank"
                  title="Author's Website">Marius E.
                  Penteliuc</a>
              </div>
            </div>
          </div>
          <div class="item">
            <h3 class="ui header">Acknowledgements</h3>
            <p>This work was supported by a grant from the Romanian Ministry of Research, Innovation and
              Digitization, CCCDI -
              UEFISCDI, project number PN-III-P2-2.1-PED-2021-0693, within PNCDI III.</p>
          </div>
          <div class="item">
            <div class="ui basic label">
              Version: <div class="detail">1.3.4</div>
            </div>
            <div class="ui basic label">
              Updated: <div class="detail">July 5th, 2023</div>
            </div>
          </div>
          <div class="ui hidden divider"></div>
          <div class="item">
            <h3 class="ui header">Reset</h3>
            <p>In case of unexpected behavior, you can reset all settings to their default values.</p>
            <div id="resetAppSettingsAndCookies" class="ui left floating negative button">Reset App...</div>
          </div>
        </div>
      </div>
    </div>
    <div class="actions">
      <div id="settingsModalStatus" class="ui disabled tertiary button"></div>
      <div class="ui button ok">OK</div>
    </div>
  </div>
</body>

</html>